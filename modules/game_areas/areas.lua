local areas = {
  {
    from = {x = 1236, y = 880, z = 7},
    to = {x = 1246, y = 880, z = 7},
    name = "Mi'hen Temple"
  },
  {
    from = {x = 1236, y = 881, z = 7},
    to = {x = 1246, y = 881, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 1234, y = 912, z = 7},
    to = {x = 1238, y = 912, z = 7},
    name = "Mi'hen Depot"
  },
  {
    from = {x = 1259, y = 915, z = 7},
    to = {x = 1259, y = 919, z = 7},
    name = "Mi'hen Depot"
  },
   {
    from = {x = 1260, y = 915, z = 7},
    to = {x = 1260, y = 919, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 1234, y = 911, z = 7},
    to = {x = 1238, y = 911, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 122+9, y = 882, z = 8},
    to = {x = 1229, y = 882, z = 8},
    name = "Mi'hen Orc Cave"
  },
  {
    from = {x = 1229, y = 883, z = 7},
    to = {x = 1229, y = 883, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 1322, y = 928, z = 7},
    to = {x = 1325, y = 928, z = 8},
    name = "Mi'hen Hills"
  },
  {
    from = {x = 1322, y = 929, z = 7},
    to = {x = 1325, y = 929, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 1329, y = 993, z = 7},
    to = {x = 1329, y = 993, z = 7},
    name = "Mi'hen South Coast"
  },
   {
    from = {x = 1355, y = 977, z = 7},
    to = {x = 1355, y = 977, z = 7},
    name = "Mi'hen Road"
  },
    {
    from = {x = 1379, y = 959, z = 8},
    to = {x = 1379, y = 960, z = 8},
    name = "Mi'hen Pirate Quarter"
  },
   {
    from = {x = 1377, y = 959, z = 7},
    to = {x = 1377, y = 960, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 1388, y = 976, z = 8},
    to = {x = 1389, y = 976, z = 8},
    name = "Mi'hen Dragon Lair"
  },
  {
    from = {x = 1388, y = 973, z = 7},
    to = {x = 1389, y = 973, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 1322, y = 965, z = 6},
    to = {x = 1322, y = 965, z = 6},
    name = "Mi'hen Port"
  },
  {
    from = {x = 1322, y = 964, z = 7},
    to = {x = 1322, y = 964, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 1337, y = 963, z = 6},
    to = {x = 1337, y = 963, z = 6},
    name = "Mi'hen Port"
  },
  {
    from = {x = 1337, y = 962, z = 7},
    to = {x = 1337, y = 962, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 949, y = 956, z = 6},
    to = {x = 949, y = 956, z = 6},
    name = "Kilika Port"
  },
    {
    from = {x = 1342, y = 976, z = 6},
    to = {x = 1342, y = 976, z = 6},
    name = "Mi'hen Port"
  },
   {
    from = {x = 1220, y = 931, z = 8},
    to = {x = 1220, y = 931, z = 8},
    name = "Mi'hen Crocodile Stream"
  },
  {
    from = {x = 1220, y = 929, z = 7},
    to = {x = 1220, y = 929, z = 7},
    name = "Mi'hen West River"
  },
  {
    from = {x = 1222, y = 925, z = 7},
    to = {x = 1230, y = 925, z = 7},
    name = "Mi'hen West River"
  },
  {
    from = {x = 1223, y = 924, z = 7},
    to = {x = 1230, y = 924, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 1244, y = 854, z = 8},
    to = {x = 1244, y = 854, z = 8},
    name = "Mi'hen Elf Hideout"
  },
  {
    from = {x = 1244, y = 856, z = 7},
    to = {x = 1244, y = 856, z = 7},
    name = "Mi'hen Road"
  }, 
  {
    from = {x = 1261, y = 857, z = 8},
    to = {x = 1261, y = 857, z = 8},
    name = "Mi'hen Rotworm Cave"
  }, 
  {
    from = {x = 1261, y = 858, z = 7},
    to = {x = 1261, y = 858, z = 7},
    name = "Mi'hen Road"
  },  
  {
    from = {x = 1266, y = 889, z = 8},
    to = {x = 1266, y = 889, z = 8},
    name = "Mi'hen Farm Cave"
  }, 
  {
    from = {x = 1266, y = 890, z = 7},
    to = {x = 1266, y = 890, z = 7},
    name = "Mi'hen Road"
  }, 
  {
    from = {x = 1267, y = 898, z = 9},
    to = {x = 1267, y = 898, z = 9},
    name = "Mi'hen Farm Cave"
  },  
  {
    from = {x = 1267, y = 900, z = 10},
    to = {x = 1267, y = 900, z = 10},
    name = "Mi'hen Bonelord Cave"
  },
  {
    from = {x = 1261, y = 950, z = 8},
    to = {x = 1261, y = 950, z = 8},
    name = "Mi'hen Spider Cave"
  },   
  {
    from = {x = 1281, y = 957, z = 8},
    to = {x = 1281, y = 957, z = 8},
    name = "Mi'hen Spider Cave"
  },  
  {
    from = {x = 1281, y = 956, z = 9},
    to = {x = 1281, y = 956, z = 9},
    name = "Mi'hen Terramite Tunnels"
  }, 
  {
    from = {x = 1261, y = 951, z = 7},
    to = {x = 1261, y = 951, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 1251, y = 950, z = 7},
    to = {x = 1251, y = 951, z = 7},
    name = "Mi'hen Minotaur Quarter"
  },
  {
    from = {x = 1275, y = 1016, z = 10},
    to = {x = 1277, y = 1016, z = 10},
    name = "Mi'hen Minotaur Quarter"
  }, 
  {
    from = {x = 1274, y = 1017, z = 10},
    to = {x = 1278, y = 1017, z = 10},
    name = "Mi'hen Minotaur Settlement"
  },   
  {
    from = {x = 1252, y = 949, z = 7},
    to = {x = 1252, y = 952, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 1343, y = 928, z = 7},
    to = {x = 1345, y = 928, z = 7},
    name = "Mi'hen Hills"
  },
  {
    from = {x = 1344, y = 915, z = 8},
    to = {x = 1344, y = 915, z = 8},
    name = "Mi'hen Hills"
  },
  {
    from = {x = 1344, y = 914, z = 9},
    to = {x = 1344, y = 914, z = 9},
    name = "Mi'hen Wyrm Cave"
  },
  {
    from = {x = 1364, y = 907, z = 7},
    to = {x = 1364, y = 907, z = 7},
    name = "Mi'hen Hills"
  },
  {
    from = {x = 1364, y = 903, z = 7},
    to = {x = 1364, y = 903, z = 7},
    name = "Mi'hen Undead Castle"
  },
  {
    from = {x = 1343, y = 929, z = 7},
    to = {x = 1345, y = 929, z = 7},
    name = "Mi'hen Road"
  },
  {
    from = {x = 1331, y = 855, z = 7},
    to = {x = 1334, y = 855, z = 7},
    name = "Mi'hen Hills"
  },
   {
    from = {x = 1330, y = 854, z = 7},
    to = {x = 1334, y = 854, z = 7},
    name = "Mi'hen North Peninsula"
  },
  {
    from = {x = 1306, y = 854, z = 7},
    to = {x = 1309, y = 854, z = 7},
    name = "Mi'hen North Peninsula"
  },
  {
    from = {x = 1306, y = 855, z = 7},
    to = {x = 1309, y = 855, z = 7},
    name = "Mi'hen Wyrm Lair"
  },
   {
    from = {x = 1355, y = 1028, z = 7},
    to = {x = 1355, y = 1028, z = 7},
    name = "Mi'hen South Coast"
  },
  {
    from = {x = 1373, y = 1114, z = 7},
    to = {x = 1373, y = 1114, z = 7},
    name = "Roshamuul Camp"
  },
  {
    from = {x = 1402, y = 1096, z = 7},
    to = {x = 1403, y = 1096, z = 7},
    name = "Roshamuul Camp"
  },
  {
    from = {x = 1402, y = 1094, z = 6},
    to = {x = 1403, y = 1094, z = 6},
    name = "Lower Roshamuul"
  },
  {
    from = {x = 1427, y = 1080, z = 6},
    to = {x = 1427, y = 1080, z = 6},
    name = "Lower Roshamuul"
  },
  {
    from = {x = 1426, y = 1087, z = 6},
    to = {x = 1426, y = 1087, z = 6},
    name = "Lower Roshamuul"
  },
{
    from = {x = 1408, y = 1071, z = 6},
    to = {x = 1409, y = 1071, z = 6},
    name = "Lower Roshamuul"
  },
   {
    from = {x = 1408, y = 1069, z = 5},
    to = {x = 1409, y = 1069, z = 5},
    name = "Roshamuul Bridge"
  },
  {
    from = {x = 1411, y = 1026, z = 6},
    to = {x = 1411, y = 1026, z = 6},
    name = "Roshamuul Bridge"
  },
  {
    from = {x = 1417, y = 1024, z = 6},
    to = {x = 1417, y = 1024, z = 6},
    name = "Roshamuul Bridge"
  },
    {
    from = {x = 1417, y = 1022, z = 7},
    to = {x = 1417, y = 1022, z = 7},
    name = "Guzzlemaw Valley"
  },
  {
    from = {x = 1394, y = 1007, z = 7},
    to = {x = 1394, y = 1008, z = 7},
    name = "Guzzlemaw Valley"
  },
   {
    from = {x = 1396, y = 1007, z = 7},
    to = {x = 1396, y = 1008, z = 7},
    name = "Roshamuul West Prison"
  },
  {
    from = {x = 1507, y = 1014, z = 7},
    to = {x = 1507, y = 1014, z = 7},
    name = "Guzzlemaw Valley"
  },
  {
    from = {x = 153, y = 463, z = 8},
    to = {x = 242, y = 620, z = 8},
    name = "Training Area"
  },
  {
    from = {x = 1017, y = 976, z = 7},
    to = {x = 1017, y = 976, z = 7},
    name = "Kilika Temple"
  },
  {
    from = {x = 1007, y = 973, z = 7},
    to = {x = 1007, y = 977, z = 7},
    name = "Kilika Temple"
  },
   {
    from = {x = 1006, y = 973, z = 7},
    to = {x = 1006, y = 977, z = 7},
    name = "Kilika Road"
  },
  {
    from = {x = 992, y = 971, z = 6},
    to = {x = 992, y = 974, z = 6},
    name = "Kilika Road"
  },
  {
    from = {x = 991, y = 972, z = 6},
    to = {x = 991, y = 973, z = 6},
    name = "Kilika Depot"
  },
   {
    from = {x = 979, y = 960, z = 6},
    to = {x = 980, y = 960, z = 6},
    name = "Kilika Road"
  },
    {
    from = {x = 978, y = 961, z = 6},
    to = {x = 981, y = 961, z = 6},
    name = "Kilika Depot"
  },
  {
    from = {x = 978, y = 982, z = 6},
    to = {x = 980, y = 982, z = 6},
    name = "Kilika Depot"
  },
  {
    from = {x = 978, y = 983, z = 6},
    to = {x = 981, y = 983, z = 6},
    name = "Kilika Road"
  },
   {
    from = {x = 964, y = 953, z = 6},
    to = {x = 964, y = 954, z = 6},
    name = "Kilika Port"
  },
   {
    from = {x = 965, y = 952, z = 6},
    to = {x = 965, y = 955, z = 6},
    name = "Kilika Road"
  },
    {
    from = {x = 999, y = 966, z = 7},
    to = {x = 999, y = 966, z = 7},
    name = "Kilika Road"
  },
  {
    from = {x = 999, y = 965, z = 8},
    to = {x = 999, y = 965, z = 8},
    name = "Kilika Undergrounds"
  },
   {
    from = {x = 1003, y = 976, z = 8},
    to = {x = 1003, y = 976, z = 8},
    name = "Kilika Undergrounds"
  },
     {
    from = {x = 1003, y = 977, z = 7},
    to = {x = 1003, y = 977, z = 7},
    name = "Kilika Road"
  },
  {
    from = {x = 1017, y = 963, z = 8},
    to = {x = 1017, y = 963, z = 8},
    name = "Kilika Undergrounds"
  },
   {
    from = {x = 1017, y = 964, z = 7},
    to = {x = 1017, y = 964, z = 7},
    name = "Kilika Road"
  },
    {
    from = {x = 987, y = 960, z = 9},
    to = {x = 987, y = 960, z = 9},
    name = "Kilika Undergrounds"
  },
   {
    from = {x = 987, y = 959, z = 10},
    to = {x = 987, y = 959, z = 10},
    name = "Kilika Gnarlhound Cave"
  },
    {
    from = {x = 1000, y = 979, z = 9},
    to = {x = 1000, y = 979, z = 9},
    name = "Kilika Dungeon"
  },
   {
    from = {x = 1000, y = 980, z = 8},
    to = {x = 1000, y = 980, z = 8},
    name = "Kilika Undergrounds"
  },
     {
    from = {x = 1010, y = 961, z = 8},
    to = {x = 1010, y = 961, z = 8},
    name = "Kilika Undergrounds"
  },
   {
    from = {x = 1008, y = 961, z = 9},
    to = {x = 1008, y = 961, z = 9},
    name = "Kilika Bear Cave"
  },
  {
    from = {x = 999, y = 927, z = 8},
    to = {x = 999, y = 927, z = 8},
    name = "Kilika Bear Cave"
  },
   {
    from = {x = 999, y = 925, z = 7},
    to = {x = 999, y = 925, z = 7},
    name = "Kilika Road"
  },
   {
    from = {x = 955, y = 927, z = 7},
    to = {x = 956, y = 927, z = 7},
    name = "Kilika Road"
  },
  {
    from = {x = 955, y = 929, z = 8},
    to = {x = 956, y = 929, z = 8},
    name = "Kilika Outlaw Hideout"
  },
  {
    from = {x = 1004, y = 922, z = 7},
    to = {x = 1004, y = 922, z = 7},
    name = "Kilika Road"
  },
  {
    from = {x = 1004, y = 921, z = 8},
    to = {x = 1004, y = 921, z = 8},
    name = "Kilika Necromantic Chambers"
  },
  {
    from = {x = 1042, y = 874, z = 11},
    to = {x = 1042, y = 874, z = 11},
    name = "Kilika Necromantic Chambers"
  },
  {
    from = {x = 1042, y = 873, z = 12},
    to = {x = 1042, y = 873, z = 12},
    name = "Demona"
  },
   {
    from = {x = 975, y = 834, z = 9},
    to = {x = 975, y = 834, z = 9},
    name = "Kilika Necromantic Chambers"
  },
   {
    from = {x = 975, y = 833, z = 10},
    to = {x = 975, y = 833, z = 10},
    name = "Kilika Grim Reaper"
  },
  {
    from = {x = 1026, y = 940, z = 5},
    to = {x = 1026, y = 941, z = 5},
    name = "Kilika Troll Hill"
  },
   {
    from = {x = 1024, y = 940, z = 6},
    to = {x = 1024, y = 941, z = 6},
    name = "Kilika Road"
  },
  {
    from = {x = 1039, y = 941, z = 7},
    to = {x = 1039, y = 941, z = 7},
    name = "Kilika Troll Hill"
  },
   {
    from = {x = 1039, y = 943, z = 8},
    to = {x = 1039, y = 943, z = 8},
    name = "Kilika Warrior's Den"
  },
  {
    from = {x = 1052, y = 942, z = 7},
    to = {x = 1052, y = 942, z = 7},
    name = "Kilika Road"
  },
   {
    from = {x = 1052, y = 940, z = 6},
    to = {x = 1052, y = 940, z = 6},
    name = "Kilika Rockroad"
  },
  {
    from = {x = 1063, y = 945, z = 7},
    to = {x = 1063, y = 946, z = 7},
    name = "Kilika Road"
  },
   {
    from = {x = 1064, y = 945, z = 7},
    to = {x = 1064, y = 945, z = 7},
    name = "Kilika Rockroad"
  },
   {
    from = {x = 1078, y = 955, z = 8},
    to = {x = 1078, y = 955, z = 8},
    name = "Kilika Monastery"
  },
   {
    from = {x = 1078, y = 953, z = 7},
    to = {x = 1078, y = 953, z = 7},
    name = "Kilika Rockroad"
  },
  {
    from = {x = 1077, y = 915, z = 7},
    to = {x = 1081, y = 915, z = 7},
    name = "Kilika Rockroad"
  },
  {
    from = {x = 1078, y = 914, z = 7},
    to = {x = 1081, y = 914, z = 7},
    name = "Macalania River"
  },
  {
    from = {x = 1065, y = 889, z = 7},
    to = {x = 1065, y = 889, z = 7},
    name = "Macalania River"
  },
   {
    from = {x = 1063, y = 889, z = 6},
    to = {x = 1063, y = 889, z = 6},
    name = "Macalania Hills"
  },
  {
    from = {x = 1104, y = 900, z = 6},
    to = {x = 1104, y = 900, z = 6},
    name = "Macalania Hills"
  },
   {
    from = {x = 1104, y = 902, z = 7},
    to = {x = 1104, y = 902, z = 7},
    name = "Macalania River"
  },
    {
    from = {x = 1137, y = 876, z = 4},
    to = {x = 1137, y = 876, z = 4},
    name = "Macalania Hills"
  },
   {
    from = {x = 1139, y = 876, z = 5},
    to = {x = 1139, y = 876, z = 5},
    name = "Macalania Cavern"
  },
    {
    from = {x = 1118, y = 880, z = 6},
    to = {x = 1118, y = 880, z = 6},
    name = "Macalania Cavern"
  },
      {
    from = {x = 1118, y = 879, z = 7},
    to = {x = 1118, y = 879, z = 7},
    name = "Macalania Plateau"
  },
   {
    from = {x = 1146, y = 866, z = 7},
    to = {x = 1146, y = 867, z = 7},
    name = "Macalania Cavern"
  },
    {
    from = {x = 1148, y = 866, z = 8},
    to = {x = 1148, y = 867, z = 8},
    name = "Macalania Dragon Nest"
  },
   {
    from = {x = 1157, y = 867, z = 6},
    to = {x = 1157, y = 867, z = 6},
    name = "The Fahrenheit"
  },
  {
    from = {x = 1157, y = 866, z = 7},
    to = {x = 1157, y = 866, z = 7},
    name = "Macalania Dragon Nest"
  },
    {
    from = {x = 1157, y = 856, z = 8},
    to = {x = 1157, y = 856, z = 8},
    name = "Macalania Dragon Nest"
  },
   {
    from = {x = 1157, y = 858, z = 9},
    to = {x = 1157, y = 858, z = 9},
    name = "Macalania Ice Cavern"
  },
   {
    from = {x = 1243, y = 834, z = 9},
    to = {x = 1243, y = 834, z = 9},
    name = "Macalania Ice Cavern"
  },
    {
    from = {x = 1245, y = 834, z = 10},
    to = {x = 1245, y = 834, z = 10},
    name = "Deep Macalania"
  },
   {
    from = {x = 1133, y = 878, z = 8},
    to = {x = 1133, y = 878, z = 8},
    name = "Macalania Dragon Nest"
  },
  {
    from = {x = 1131, y = 878, z = 8},
    to = {x = 1131, y = 878, z = 8},
    name = "Chyllfroest"
  },
   {
    from = {x = 1014, y = 966, z = 7},
    to = {x = 1019, y = 966, z = 7},
    name = "Kilika Road"
  },
     {
    from = {x = 1014, y = 967, z = 7},
    to = {x = 1019, y = 967, z = 7},
    name = "Kilika Temple"
  },
  {
    from = {x = 1027, y = 973, z = 7},
    to = {x = 1027, y = 977, z = 7},
    name = "Kilika Temple"
  },
   {
    from = {x = 1028, y = 972, z = 7},
    to = {x = 1028, y = 978, z = 7},
    name = "Kilika Road"
  },
   {
    from = {x = 1015, y = 986, z = 7},
    to = {x = 1020, y = 986, z = 7},
    name = "Kilika Temple"
  },
  {
    from = {x = 1014, y = 987, z = 7},
    to = {x = 1021, y = 987, z = 7},
    name = "Kilika Road"
  },
   {
    from = {x = 951, y = 995, z = 8},
    to = {x = 951, y = 995, z = 8},
    name = "Kilika Crabs"
  },
   {
    from = {x = 951, y = 996, z = 7},
    to = {x = 951, y = 996, z = 7},
    name = "Kilika Road"
  },
   {
    from = {x = 944, y = 1014, z = 7},
    to = {x = 944, y = 1014, z = 7},
    name = "Kilika Road"
  },
   {
    from = {x = 944, y = 1016, z = 8},
    to = {x = 944, y = 1016, z = 8},
    name = "Kilika Ghoul Crypt"
  },
   {
    from = {x = 981, y = 1016, z = 9},
    to = {x = 982, y = 1016, z = 9},
    name = "Kilika Dark Path"
  },
    {
    from = {x = 1056, y = 1059, z = 10},
    to = {x = 1056, y = 1059, z = 10},
    name = "Kilika Dark Path"
  },
   {
    from = {x = 1056, y = 1061, z = 11},
    to = {x = 1056, y = 1061, z = 11},
    name = "Ruins of Cyclopolis"
  },
  {
    from = {x = 1068, y = 1031, z = 12},
    to = {x = 1068, y = 1031, z = 12},
    name = "The Behemoth Quest"
  },
   {
    from = {x = 1069, y = 1039, z = 13},
    to = {x = 1069, y = 1039, z = 13},
    name = "Ruins of Cyclopolis"
  },
  {
    from = {x = 981, y = 1014, z = 8},
    to = {x = 982, y = 1014, z = 8},
    name = "Kilika Ghoul Crypt"
  },
    {
    from = {x = 964, y = 1027, z = 8},
    to = {x = 964, y = 1027, z = 8},
    name = "Kilika Ghoul Crypt"
  },
   {
    from = {x = 964, y = 1029, z = 9},
    to = {x = 965, y = 1029, z = 9},
    name = "Kilika Ghostland"
  },
  {
    from = {x = 957, y = 1073, z = 10},
    to = {x = 957, y = 1073, z = 10},
    name = "Kilika Hero Path"
  },
  {
    from = {x = 957, y = 1074, z = 9},
    to = {x = 957, y = 1074, z = 9},
    name = "Kilika Ghostland"
  },
  {
    from = {x = 936, y = 1096, z = 12},
    to = {x = 937, y = 1096, z = 12},
    name = "Kilika Old Fortress"
  },
    {
    from = {x = 936, y = 1094, z = 11},
    to = {x = 937, y = 1094, z = 11},
    name = "Kilika Hero Path"
  },
  {
    from = {x = 979, y = 1151, z = 12},
    to = {x = 979, y = 1151, z = 12},
    name = "Kilika Inquisitor Path"
  },
  {
    from = {x = 979, y = 1149, z = 11},
    to = {x = 979, y = 1149, z = 11},
    name = "Kilika Hero Path"
  },
   {
    from = {x = 1012, y = 1131, z = 12},
    to = {x = 1012, y = 1131, z = 12},
    name = "Kilika Hero Path"
  },
     {
    from = {x = 1012, y = 1133, z = 13},
    to = {x = 1012, y = 1133, z = 13},
    name = "Kilika Hell"
  },
  {
    from = {x = 998, y = 1163, z = 11},
    to = {x = 998, y = 1163, z = 11},
    name = "Kilika Hero Path"
  },
   {
    from = {x = 999, y = 1163, z = 11},
    to = {x = 1000, y = 1163, z = 11},
    name = "The Annihilator Quest"
  },
  {
    from = {x = 994, y = 1129, z = 11},
    to = {x = 994, y = 1130, z = 11},
    name = "Demon Helmet Quest"
  },
   {
    from = {x = 993, y = 1131, z = 11},
    to = {x = 995, y = 1131, z = 11},
    name = "Kilika Hero Path"
  },
  {
    from = {x = 937, y = 1008, z = 7},
    to = {x = 937, y = 1008, z = 7},
    name = "Kilika Road"
  },
   {
    from = {x = 936, y = 1007, z = 7},
    to = {x = 939, y = 1007, z = 7},
    name = "Kilika Seaway"
  },
  {
    from = {x = 924, y = 973, z = 7},
    to = {x = 926, y = 973, z = 7},
    name = "Kilika Seaway"
  },
   {
    from = {x = 924, y = 974, z = 7},
    to = {x = 925, y = 974, z = 7},
    name = "Kilika Beach"
  },
   {
    from = {x = 872, y = 981, z = 7},
    to = {x = 872, y = 981, z = 7},
    name = "Kilika Beach"
  },
  {
    from = {x = 872, y = 983, z = 7},
    to = {x = 872, y = 983, z = 7},
    name = "Kilika Nightmare Ruins"
  },
   {
    from = {x = 827, y = 976, z = 9},
    to = {x = 827, y = 980, z = 9},
    name = "Kilika Abandoned Sewers"
  },
     {
    from = {x = 828, y = 976, z = 9},
    to = {x = 828, y = 980, z = 9},
    name = "Kilika Nightmare Ruins"
  },
   {
    from = {x = 1053, y = 1009, z = 7},
    to = {x = 1058, y = 1009, z = 7},
    name = "Kilika Road"
  },
   {
    from = {x = 1053, y = 1010, z = 7},
    to = {x = 1058, y = 1010, z = 7},
    name = "Kilika Desert"
  },
    {
    from = {x = 1049, y = 1013, z = 7},
    to = {x = 1049, y = 1013, z = 7},
    name = "Kilika Desert"
  },
  {
    from = {x = 1047, y = 1013, z = 8},
    to = {x = 1047, y = 1013, z = 8},
    name = "Kilika Mines"
  },
   {
    from = {x = 1005, y = 1088, z = 8},
    to = {x = 1005, y = 1088, z = 8},
    name = "Kilika Quara Dungeon"
  },
   {
    from = {x = 1005, y = 1086, z = 7},
    to = {x = 1005, y = 1086, z = 7},
    name = "Kilika Desert"
  },
   {
    from = {x = 1083, y = 1036, z = 6},
    to = {x = 1083, y = 1036, z = 6},
    name = "Kilika Dragonling Hill"
  },
  {
    from = {x = 1085, y = 1036, z = 7},
    to = {x = 1085, y = 1036, z = 7},
    name = "Kilika Desert"
  },
   {
    from = {x = 1070, y = 1017, z = 7},
    to = {x = 1070, y = 1017, z = 7},
    name = "Kilika Desert"
  },
   {
    from = {x = 1171, y = 972, z = 11},
    to = {x = 1171, y = 972, z = 11},
    name = "Deep Desert"
  },
   {
    from = {x = 1213, y = 950, z = 13},
    to = {x = 1213, y = 950, z = 13},
    name = "Desert Palace"
  },
  {
    from = {x = 1213, y = 951, z = 12},
    to = {x = 1213, y = 951, z = 13},
    name = "Deep Desert"
  },
  {
    from = {x = 1166, y = 950, z = 13},
    to = {x = 1166, y = 950, z = 13},
    name = "Desert Palace"
  },
  {
    from = {x = 1166, y = 950, z = 13},
    to = {x = 1166, y = 950, z = 13},
    name = "Desert Vaults"
  },
   {
    from = {x = 1036, y = 1050, z = 7},
    to = {x = 1036, y = 1051, z = 7},
    name = "Kilika Desert"
  },
  {
    from = {x = 1034, y = 1050, z = 6},
    to = {x = 1034, y = 1051, z = 6},
    name = "Orc Fortress"
  },
}
local currentArea = ""

local window = nil
local nameLabel = nil
local fadeOutEvent = nil

function init()
  connect(
    g_game,
    {
      onGameStart = create,
      onGameEnd = destroy
    }
  )

  if g_game.isOnline() then
    create()
  end
end

function create()
  window = g_ui.loadUI("areas", modules.game_interface.getMapPanel())
  window:setOpacity(0)
  nameLabel = window:getChildById("name")

  connect(LocalPlayer, {onPositionChange = onPositionChange})
end

local function isInArea(position, fromPos, toPos)
  local x = position.x
  local y = position.y
  local z = position.z
  if z ~= fromPos.z and z ~= toPos.z then
    return false
  end

  if x >= fromPos.x and x <= toPos.x and y >= fromPos.y and y <= toPos.y then
    return true
  end

  return false
end

local function fadeOut()
  g_effects.fadeOut(window, 750)
  fadeOutEvent = nil
end

function onPositionChange(player, newPos, oldPos)
  for i = 1, #areas do
    local area = areas[i]
    if currentArea ~= area.name then
      if isInArea(newPos, area.from, area.to) then
        currentArea = area.name
        nameLabel:setText("Entering " .. area.name)
        window:setWidth(nameLabel:getText():len() * 8)
        g_effects.fadeIn(window, 750)
        if fadeOutEvent then
          removeEvent(fadeOutEvent)
        end
        fadeOutEvent = scheduleEvent(fadeOut, 1000)
        break
      end
    end
  end
end

function terminate()
  disconnect(
    g_game,
    {
      onGameStart = create,
      onGameEnd = destroy
    }
  )
  if window then
    destroy()
  end
end

function destroy()
  disconnect(LocalPlayer, {onPositionChange = onPositionChange})

  if window then
    window:destroy()
    window = nil
  end

  nameLabel = nil
  fadeOutEvent = nil
  currentArea = ""
end
